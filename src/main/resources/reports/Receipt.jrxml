<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Receipt" pageWidth="227" pageHeight="842" columnWidth="217" leftMargin="5" rightMargin="5" topMargin="5" bottomMargin="5" isIgnorePagination="true" uuid="b231efe1-b21f-4c5c-b154-22d65bf135b1">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="WEBHIMS"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<style name="ReceiptStyle" fontName="DejaVu Sans Mono" fontSize="8"/>
	<style name="BoldStyle" fontName="DejaVu Sans Mono" fontSize="8" isBold="true"/>
	<style name="HeaderStyle" forecolor="#333333" fontName="DejaVu Sans Mono" fontSize="10" isBold="true"/>
	<style name="CenterStyle" hTextAlign="Center" hImageAlign="Center" fontName="DejaVu Sans Mono" fontSize="8"/>
	<style name="RightStyle" hTextAlign="Right" hImageAlign="Right" fontName="DejaVu Sans Mono" fontSize="8"/>
	<parameter name="hospitalName" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["Your Hospital Name"]]></defaultValueExpression>
	</parameter>
	<parameter name="hospitalAddress" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["123 Hospital Street, City"]]></defaultValueExpression>
	</parameter>
	<parameter name="hospitalContact" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["+123-456-7890"]]></defaultValueExpression>
	</parameter>
	<parameter name="receiptNumber" class="java.lang.String"/>
	<parameter name="topHeader" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["POS RECEIPT"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT 
            st.serial_number AS serialNumber,
            st.order_number AS orderNumber,
            st.product_code AS productCode,
            st.discount,
            st.tax,
            st.net_tax AS netTax,
            st.subtotal,
            st.transaction_date AS transactionDate,
            st.module,
            c.customername AS customerName,
            st.description,
            st.status,
            st.sub_module AS subModule,
            st.created_by AS createdBy,
            st.created_date AS localDateTime,
            st.change_out AS changeOut,
            st.product_cost AS productCost,
            st.product_sale_price AS productSalePrice,
            st.stock_in AS stockIn,
            st.stock_out AS stockOut,
            st.product_name AS productName,
            totals.total_netTax,
            totals.total_subtotal,
            totals.total,
            totals.max_changeOut,
            totals.amountPaid
        FROM 
            stock_transactions st
        LEFT JOIN 
            customers c ON st.customer_id = c.custid
        JOIN (
            SELECT 
                serial_number,
                SUM(net_tax) AS total_netTax,
                SUM(subtotal) AS total_subtotal,
                SUM(net_tax + subtotal) AS total,
                MAX(change_out) AS max_changeOut,
                SUM(subtotal) + MAX(change_out) + SUM(net_tax) AS amountPaid
            FROM 
                stock_transactions
            WHERE 
                serial_number = $P{receiptNumber}
            GROUP BY 
                serial_number
        ) totals ON st.serial_number = totals.serial_number
        WHERE 
            st.serial_number = $P{receiptNumber}
        ORDER BY 
            st.created_date]]>
	</queryString>
	<field name="serialNumber" class="java.lang.String"/>
	<field name="orderNumber" class="java.lang.String"/>
	<field name="productCode" class="java.lang.String"/>
	<field name="discount" class="java.math.BigDecimal"/>
	<field name="tax" class="java.math.BigDecimal"/>
	<field name="netTax" class="java.math.BigDecimal"/>
	<field name="subtotal" class="java.math.BigDecimal"/>
	<field name="transactionDate" class="java.sql.Date"/>
	<field name="module" class="java.lang.String"/>
	<field name="customerName" class="java.lang.String"/>
	<field name="description" class="java.lang.String"/>
	<field name="status" class="java.lang.String"/>
	<field name="subModule" class="java.lang.String"/>
	<field name="createdBy" class="java.lang.String"/>
	<field name="localDateTime" class="java.time.LocalDateTime"/>
	<field name="changeOut" class="java.math.BigDecimal"/>
	<field name="productCost" class="java.lang.Double"/>
	<field name="productSalePrice" class="java.lang.Double"/>
	<field name="stockIn" class="java.lang.Integer"/>
	<field name="stockOut" class="java.lang.Integer"/>
	<field name="productName" class="java.lang.String"/>
	<field name="total_netTax" class="java.math.BigDecimal"/>
	<field name="total_subtotal" class="java.math.BigDecimal"/>
	<field name="total" class="java.math.BigDecimal"/>
	<field name="max_changeOut" class="java.math.BigDecimal"/>
	<field name="amountPaid" class="java.math.BigDecimal"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="100" splitType="Stretch">
			<staticText>
				<reportElement style="HeaderStyle" x="0" y="0" width="217" height="20" uuid="a1b2c3d4-e5f6-7890-abcd-ef1234567890"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[$P{hospitalName}]]></text>
			</staticText>
			<staticText>
				<reportElement style="CenterStyle" x="0" y="20" width="217" height="15" uuid="b2c3d4e5-f6a7-8901-bcde-f23456789012"/>
				<text><![CDATA[$P{hospitalAddress}]]></text>
			</staticText>
			<staticText>
				<reportElement style="CenterStyle" x="0" y="35" width="217" height="15" uuid="c3d4e5f6-a7b8-9012-cdef-345678901234"/>
				<text><![CDATA[Tel: $P{hospitalContact}]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderStyle" x="0" y="55" width="217" height="20" uuid="24fba703-6968-4c82-9ea6-9442814bf109"/>
				<textElement textAlignment="Center">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[RECEIPT]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="80" width="217" height="1" uuid="e5f6a7b8-c9d0-1234-ef01-567890123456">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Solid"/>
				</graphicElement>
			</line>
		</band>
	</title>
	<pageHeader>
		<band height="100" splitType="Stretch">
			<staticText>
				<reportElement style="BoldStyle" x="0" y="0" width="80" height="15" uuid="f6a7b8c9-d0e1-2345-f012-678901234567"/>
				<text><![CDATA[Receipt No:]]></text>
			</staticText>
			<textField>
				<reportElement style="ReceiptStyle" x="80" y="0" width="137" height="15" uuid="a7b8c9d0-e1f2-3456-0123-789012345678"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{serialNumber}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="BoldStyle" x="0" y="15" width="80" height="15" uuid="b8c9d0e1-f2a3-4567-1234-890123456789"/>
				<text><![CDATA[Date:]]></text>
			</staticText>
			<textField pattern="h:mm:ss a z">
				<reportElement style="ReceiptStyle" x="80" y="15" width="137" height="15" uuid="c9d0e1f2-a3b4-5678-2345-901234567890"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{localDateTime}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="BoldStyle" x="0" y="30" width="80" height="15" uuid="d0e1f2a3-b4c5-6789-3456-012345678901"/>
				<text><![CDATA[Waiter]]></text>
			</staticText>
			<textField>
				<reportElement style="ReceiptStyle" x="80" y="30" width="137" height="15" uuid="e1f2a3b4-c5d6-7890-4567-123456789012"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{createdBy}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="BoldStyle" x="0" y="45" width="80" height="15" uuid="f2a3b4c5-d6e7-8901-5678-234567890123"/>
				<text><![CDATA[Transaction Date]]></text>
			</staticText>
			<textField pattern="M/d/yy h:mm a">
				<reportElement style="ReceiptStyle" x="80" y="45" width="137" height="15" uuid="c5d6e7f8-a9b0-1234-8901-567890123456"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{transactionDate}.toLocalDate()]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="65" width="217" height="1" uuid="d6e7f8a9-b0c1-2345-9012-678901234567">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement style="BoldStyle" x="0" y="75" width="50" height="15" uuid="e7f8a9b0-c1d2-3456-0123-789012345678"/>
				<text><![CDATA[Item]]></text>
			</staticText>
			<staticText>
				<reportElement style="BoldStyle" x="105" y="75" width="30" height="15" uuid="f8a9b0c1-d2e3-4567-1234-890123456789"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Qty]]></text>
			</staticText>
			<staticText>
				<reportElement style="BoldStyle" x="150" y="75" width="30" height="15" uuid="a9b0c1d2-e3f4-5678-2345-901234567890"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Price]]></text>
			</staticText>
			<staticText>
				<reportElement style="BoldStyle" x="180" y="75" width="37" height="15" uuid="b0c1d2e3-f4a5-6789-3456-012345678901"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Amount]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="90" width="217" height="1" uuid="c1d2e3f4-a5b6-7890-4567-123456789012">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Solid"/>
				</graphicElement>
			</line>
		</band>
	</pageHeader>
	<detail>
		<band height="15" splitType="Stretch">
			<textField>
				<reportElement style="ReceiptStyle" x="0" y="0" width="120" height="15" uuid="d2e3f4a5-b6c7-8901-5678-234567890123"/>
				<textFieldExpression><![CDATA[$F{productName}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="ReceiptStyle" x="104" y="0" width="30" height="15" uuid="e3f4a5b6-c7d8-9012-6789-345678901234"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{stockOut}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement style="ReceiptStyle" x="150" y="0" width="30" height="15" uuid="f4a5b6c7-d8e9-0123-7890-456789012345"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{productSalePrice}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement style="ReceiptStyle" x="180" y="0" width="37" height="15" uuid="a5b6c7d8-e9f0-1234-8901-567890123456"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{subtotal}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="120" splitType="Stretch">
			<line>
				<reportElement x="0" y="0" width="217" height="1" uuid="b6c7d8e9-f0a1-2345-9012-678901234567">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement style="BoldStyle" x="0" y="10" width="150" height="15" uuid="c7d8e9f0-a1b2-3456-0123-789012345678"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Subtotal:]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement style="ReceiptStyle" x="150" y="10" width="67" height="15" uuid="d8e9f0a1-b2c3-4567-1234-890123456789"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{total_subtotal}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="BoldStyle" x="0" y="25" width="150" height="15" uuid="e9f0a1b2-c3d4-5678-2345-901234567890"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Tax:]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement style="ReceiptStyle" x="150" y="25" width="67" height="15" uuid="f0a1b2c3-d4e5-6789-3456-012345678901"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{total_netTax}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="BoldStyle" x="0" y="40" width="150" height="15" uuid="a1b2c3d4-e5f6-7890-abcd-ef1234567890"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Total:]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement style="BoldStyle" x="150" y="40" width="67" height="15" uuid="b2c3d4e5-f6a7-8901-bcde-f23456789012"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{total}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="90" width="217" height="1" uuid="a7b8c9d0-e1f2-3456-0123-789012345678">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement style="CenterStyle" x="0" y="100" width="217" height="15" uuid="b8c9d0e1-f2a3-4567-1234-890123456789"/>
				<text><![CDATA[Thank you for your business!]]></text>
			</staticText>
		</band>
	</summary>
</jasperReport>
