<div th:fragment="settings-users">

    <div class="col-lg-12">
        <div class="card rounded border" style="margin: auto">


            <div class="card-body" id="settings-users" style="height:100%;">

                <div class="card rounded border">
                    <ul class="nav nav-tabs nav-tabs-v2 px-3">
                        <li class="nav-item me-2"><a class="nav-link px-2 active" data-bs-toggle="tab" href="#allTab"><span
                                class="me-10px"><i
                                class="fa fa-fw t-plus-1 text-blue fa-lg fa-users"></i>User Groups</span></a></li>


                        <li class="nav-item me-2" ><a class="nav-link px-2" data-bs-toggle="tab" href="#sms"><span class="me-10px"><i
                                class="fa fa-fw t-plus-1 text-black fa-lg fa-user-circle"></i>Add User</span></a></li>
                        <li class="nav-item me-2" ><a class="nav-link px-2" data-bs-toggle="tab" href="#all-users-data"><span class="me-10px"><i
                                class="fa fa-fw t-plus-1 text-black-500 fa-user-lock"></i>Grant/Deny Access</span></a></li>

                    </ul>
                    <div class="tab-content p-3">
                        <div class="tab-pane fade show active" id="allTab">
                            <div th:replace="roles/roles-form::roles_form"></div>

                        </div>


                        <div class="tab-pane fade show " id="sms">
                            <div th:replace="users/addUser::users"></div>

                        </div>
                        <div class="tab-pane fade show " id="all-users-data">


                        </div>
                    </div>

                </div>




            </div>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            // Fetch data from the default URL on page load
            fetchData('/users/data');

            $('#view-ex-btn').click(function(event) {
                event.preventDefault(); // Prevent the default behavior of the button click


                // Fetch data from the updated URL on button click
                fetchData('/users/data');
            });

            function fetchData(url) {
                // Make the AJAX request to the server
                $.ajax({
                    url: url,
                    method: 'GET',
                    success: function(response) {
                        // Update the content of the auto-filter-mem-data element with the fetched data
                        $('#all-users-data').html(response);
                    },
                    error: function() {
                        alert('An error occurred while fetching data.');
                    }
                });
            }
        });
    </script>

</div>
